(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();class u{constructor(s){this.text=s,this.isCompleted=!1}}class a{constructor(s,l){this.text=s,this.importance=l,this.alert(this.text,this.importance)}alert(s,l){const o=document.createElement("div"),e=document.createElement("p");switch(e.className="message",e.innerText=s,o.appendChild(e),o.className="alert",l){case"error":o.style.backgroundColor="#e25858";break;case"sucsses":o.style.backgroundColor="#228636";break;case"remove":o.style.backgroundColor="#caae21";break;case"completed":o.style.backgroundColor="#1199e3"}document.body.appendChild(o);//! Створюємо аллерт
setTimeout(()=>{o.classList.add("active")}),setTimeout(()=>{o.classList.toggle("active")},2e3),setTimeout(()=>{o.classList.remove("active")},2e3)}}class h{constructor(s){this.todos=[{text:"Ghbdsn!",isCompleted:!1}],this.completed=[],this.selectedHtmlElement=s||document.querySelector("#app"),this.render(this.todos)}render(s){this.selectedHtmlElement.innerHTML="",this.layout(),this.addListWithToDo(s)}addToDoToList(s){console.log("addToDoToList",s),s==""||s==null?new a("The field cannot be empty","error"):(this.todos.push(new u(s)),new a("Your addind new todo","sucsses")),this.render(this.todos)}addListWithToDo(s){const l=document.createElement("ul");l.className="todo_list",s.forEach((o,e)=>{const t=document.createElement("li"),c=document.createElement("input"),n=document.createElement("label"),i=document.createElement("span");i.className="check_box",c.type="checkbox",c.className="check_input",t.innerText=o.text,t.className="todo_item",c.checked=o.isCompleted,o.isCompleted?t.classList.add("completed"):t.classList.remove("completed"),n.appendChild(c),n.appendChild(i),t.insertAdjacentElement("afterbegin",n);const r=document.createElement("div");r.classList="trash",r.addEventListener("click",()=>{l.removeChild(t),this.todos=this.todos.slice(0,e).concat(this.todos.slice(e+1,this.todos.length)),this.render(this.todos),new a("Todo remove","remove")});const m=p=>{console.log("first"),o.isCompleted?(o.isCompleted=!1,p.target.classList.remove("completed"),c.checked=!1,this.todos[e].completed=!1):(new a("Todo is completed","completed"),p.target.classList.add("completed"),o.isCompleted=!0,c.checked=!0,this.todos[e].isCompleted=!0)};i.addEventListener("click",m),t.addEventListener("click",m),t.appendChild(r),l.appendChild(t)}),this.selectedHtmlElement.querySelector(".main").appendChild(l)}layout(){const s=document.createElement("header");s.className="header";const l=document.createElement("img");l.src="../img/logo.svg",l.alt="logo",s.appendChild(l);const o=document.createElement("div");o.className="input_wrapper",s.appendChild(o);const e=document.createElement("input");e.className="input",e.type="text",e.placeholder="Add a new task";const t=document.createElement("button");t.className="button",t.innerText="Create";const c=document.createElement("img");c.src="../img/plus.svg",c.alt="plus",t.appendChild(c),o.appendChild(e),o.appendChild(t),t.addEventListener("click",()=>{this.addToDoToList(e.value),e.value=""}),e.addEventListener("keypress",i=>{i.key==="Enter"&&(this.addToDoToList(e.value),e.value="")});const n=document.createElement("main");n.className="main",this.selectedHtmlElement.appendChild(s),this.selectedHtmlElement.appendChild(n)}}new h;
